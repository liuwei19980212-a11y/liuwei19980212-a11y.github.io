<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#ffe6ee,#f7f2ff);
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Arial;
  color:#333;
}
.card{
  width:min(560px,90vw);
  background:#ffffffee;
  border-radius:24px;
  padding:28px 24px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.08);
}
button{
  margin-top:18px;
  padding:12px 26px;
  border:none;
  border-radius:999px;
  background:#ff6b9d;
  color:#fff;
  font-size:16px;
}
.linkBtn{
  display:inline-block;
  margin-top:8px;
  font-size:14px;
  color:#ff6b9d;
  text-decoration:none;
}
.small{
  font-size:14px;
  color:#666;
  margin-top:12px;
}
.heart{
  position:fixed;
  font-size:22px;
  animation:float 2s ease-out forwards;
}
@keyframes float{
  from{opacity:1;transform:translateY(0)}
  to{opacity:0;transform:translateY(-120px)}
}
</style>
</head>

<body>

<div class="card">
  <div style="font-size:42px">ğŸ‚</div>

  <h1><span style="color:#ff6b9d">å¼ æ–‡é™</span>ï¼Œç”Ÿæ—¥å¿«ä¹</h1>

  <p>
    æ„¿ä½ æ–°çš„ä¸€å²ï¼Œ<br>
    æœ‰çƒ­çˆ±ï¼Œæœ‰æœŸå¾…ï¼Œ<br>
    æœ‰äººæƒ¦è®°ï¼Œ<br>
    ä¹Ÿè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚
  </p>

  <p>â€”â€” æ¥è‡ª <span style="color:#ff6b9d">åˆ˜ä¼Ÿ</span></p>

  <!-- ğŸµ ç”Ÿæ—¥èƒŒæ™¯éŸ³ä¹ -->
  <button id="fireBtn">ç‚¹æˆ‘ä¸€ä¸‹ ğŸ¤</button>
  <p id="soundTip" class="small">ğŸµ å¦‚æœæ²¡å¬åˆ°éŸ³ä¹ï¼Œç‚¹ä¸€ä¸‹ä¸Šé¢çš„æŒ‰é’®å³å¯</p>

  <p id="countdown" class="small"></p>

  <!-- ğŸ‚ ç”Ÿæ—¥å½“å¤©ä¸“å± -->
  <div id="birthdayOnly" style="display:none;margin-top:14px">
    <p><b>ä½ çœŸçš„ï¼Œå¾ˆå€¼å¾—è¢«è®¤çœŸå¯¹å¾…ã€‚</b></p>
  </div>

  <!-- ğŸ§ å¥¹æ¨èçš„æ­Œï¼ˆQQ éŸ³ä¹ç¨³å¦¥å”¤èµ·ï¼‰ -->
  <div style="margin-top:22px">
    <p class="small">ğŸ§ æœ‰ä¸€é¦–ä½ æœ€è¿‘åˆ†äº«çš„æ­Œï¼Œæˆ‘ä¹Ÿå¬äº†ã€‚</p>
    <a class="linkBtn"
       href="https://i.y.qq.com/v8/playsong.html?songmid=003ZyF2B2j9tZz"
       target="_blank">
       å»å¬é‚£é¦–æ­Œ â†’
    </a>
  </div>
</div>

<!-- ğŸµ ç½‘é¡µç”Ÿæ—¥éŸ³ä¹ï¼ˆå…ç‰ˆæƒï¼Œå¯æ’­æ”¾ï¼‰ -->
<audio id="music" preload="auto" playsinline>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_7c2b2b89f7.mp3" type="audio/mpeg">
</audio>

<script>
const btn = document.getElementById("fireBtn");
const music = document.getElementById("music");

// æ—¥æœŸåˆ¤æ–­
const today = new Date();
const isBirthday = today.getMonth()===0 && today.getDate()===14;

// å€’è®¡æ—¶
const birthday = new Date(today.getFullYear(),0,14);
if(today > birthday) birthday.setFullYear(today.getFullYear()+1);
const diff = Math.ceil((birthday - today)/(1000*60*60*24));

document.getElementById("countdown").innerText =
  isBirthday ? "ğŸˆ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥" : `ğŸˆ è·ç¦»ç”Ÿæ—¥è¿˜æœ‰ ${diff} å¤©`;

if(isBirthday){
  document.getElementById("birthdayOnly").style.display="block";
}

// æ’­æ”¾éŸ³ä¹ï¼ˆiPhone å®‰å…¨ï¼‰
function playMusicSafe(){
  music.currentTime = 0;
  music.play().catch(()=>{});
}

btn.addEventListener("click",()=>{
  playMusicSafe();
  document.getElementById("soundTip").style.display="none";

  for(let i=0;i<10;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="ğŸ’–";
    h.style.left=Math.random()*100+"vw";
    h.style.bottom="0";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
});
</script>

</body>
</html>
