<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>
<style>
  :root{
    --pink:#ff6b9d;
    --card:#ffffffee;
    --shadow:0 22px 45px rgba(0,0,0,.12);
  }
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Arial;
    color:#333;
    overflow:hidden;

    /* ä½ çš„èƒŒæ™¯å›¾ï¼šæ³¨æ„æ–‡ä»¶åå°±æ˜¯ bg.jpg.JPG */
    background:
      linear-gradient(135deg, rgba(255,230,238,.72), rgba(247,242,255,.72)),
      url("bg.jpg.JPG") center/cover no-repeat;
    background-color:#ffe6ee;
  }
  .card{
    width:min(560px,90vw);
    background:var(--card);
    border-radius:24px;
    padding:28px 24px;
    text-align:center;
    box-shadow:var(--shadow);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  .cake{font-size:42px; cursor:pointer; user-select:none;}
  h1{margin:8px 0 12px; font-size:26px;}
  p{line-height:1.8; margin:12px 0;}
  .from{margin-top:14px; font-weight:600;}
  .btn{
    margin-top:18px;
    padding:12px 26px;
    border:none;
    border-radius:999px;
    background:var(--pink);
    color:#fff;
    font-size:16px;
  }
  .small{font-size:14px; color:#666; margin-top:12px;}

  /* ç‰¹æ•ˆç²’å­ */
  .fx{
    position:fixed;
    left:50%;
    top:70vh;                 /* ä»åä¸‹ä½ç½®å¼€å§‹ */
    transform:translate(-50%, 0);
    font-size:22px;
    pointer-events:none;
    animation:floatUp 1.9s ease-out forwards;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.08));
  }
  @keyframes floatUp{
    from{opacity:1; transform:translate(var(--x), 0) scale(1);}
    to  {opacity:0; transform:translate(var(--x), -260px) scale(1.2);} /* å¾€ä¸Šé£˜ï¼Œä½†ä¸ä¼šåˆ°é¡¶ */
  }

  /* åº•éƒ¨å¼¹çª—ï¼ˆå»QQéŸ³ä¹ï¼‰ */
  .sheetMask{
    position:fixed; inset:0;
    background:rgba(0,0,0,.25);
    display:none;
    align-items:flex-end;
    justify-content:center;
    padding:14px;
  }
  .sheet{
    width:min(620px,96vw);
    background:#fff;
    border-radius:18px;
    box-shadow:0 18px 40px rgba(0,0,0,.22);
    overflow:hidden;
  }
  .sheetHead{
    padding:14px 16px 10px;
    font-weight:700;
  }
  .sheetTip{
    padding:0 16px 12px;
    color:#666; font-size:13px; line-height:1.5;
  }
  .sheetBtn{
    display:block;
    width:100%;
    padding:14px 16px;
    border:none;
    background:#fff;
    font-size:16px;
    text-align:center;
  }
  .sheetBtn.primary{border-top:1px solid #eee; font-weight:700;}
  .sheetBtn.primary span{color:var(--pink);}
  .sheetBtn.cancel{border-top:10px solid #f5f5f7; color:#666;}

  /* å½©è›‹ */
  #egg{display:none; margin-top:10px; font-size:13px; color:#777;}
</style>
</head>

<body>
  <div class="card">
    <div class="cake" id="cake" title="ç‚¹æˆ‘å¤šå‡ ä¸‹">ğŸ‚</div>

    <h1><span style="color:var(--pink)">å¼ æ–‡é™</span>ï¼Œç”Ÿæ—¥å¿«ä¹</h1>

    <p>
      æ„¿ä½ æ–°çš„ä¸€å²ï¼Œ<br>
      çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒé‡Œæœ‰ç³–ï¼Œ<br>
      æœ‰äººæƒ¦è®°ï¼Œ<br>
      ä¹Ÿè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚
    </p>

    <p class="from">â€”â€” æ¥è‡ª <span style="color:var(--pink)">åˆ˜ä¼Ÿ</span></p>

    <button class="btn" id="fireBtn">ç‚¹æˆ‘ä¸€ä¸‹ ğŸ©·</button>

    <p id="countdown" class="small"></p>
    <p id="egg">å½©è›‹ï¼šä»Šå¤©ä¹Ÿæƒ³æŠŠå–œæ¬¢ï¼Œè½»è½»æ”¾åˆ°ä½ æ‰‹å¿ƒé‡Œã€‚</p>
  </div>

  <!-- QQéŸ³ä¹å¼¹çª— -->
  <div class="sheetMask" id="sheetMask">
    <div class="sheet">
      <div class="sheetHead">ğŸ§ æˆ‘ä¹Ÿå»å¬äº†ä½ æ¨èçš„æ­Œ</div>
      <div class="sheetTip">å¦‚æœåœ¨å¾®ä¿¡é‡Œæ‰“ä¸å¼€ï¼Œç‚¹å³ä¸Šè§’ã€Œâ€¦ã€ç”¨ Safari æ‰“å¼€å†è¯•ã€‚</div>
      <button class="sheetBtn primary" id="goQQ">
        å» QQ éŸ³ä¹å¬ã€Š<span>NOT CUTE ANYMORE</span>ã€‹
      </button>
      <button class="sheetBtn cancel" id="closeSheet">å…ˆä¸å¬</button>
    </div>
  </div>

<script>
  // ç”Ÿæ—¥ï¼š1æœˆ14æ—¥
  const today = new Date();
  const bThisYear = new Date(today.getFullYear(), 0, 14);
  const isBirthday = (today.getMonth()===0 && today.getDate()===14);

  let nextB = bThisYear;
  if (today > bThisYear) nextB = new Date(today.getFullYear()+1, 0, 14);

  const diff = Math.ceil((nextB - today) / (1000*60*60*24));
  document.getElementById("countdown").innerText =
    isBirthday ? "ğŸˆ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥" : `ğŸˆ è·ç¦»ç”Ÿæ—¥è¿˜æœ‰ ${diff} å¤©`;

  // QQéŸ³ä¹é“¾æ¥ï¼ˆä½ ç»™çš„ï¼‰
  const QQ_URL = "https://c6.y.qq.com/base/fcgi-bin/u?__=cZQLF5iyxaK7";

  const sheetMask = document.getElementById("sheetMask");
  const goQQ = document.getElementById("goQQ");
  const closeSheet = document.getElementById("closeSheet");

  function openSheet(){ sheetMask.style.display = "flex"; }
  function close(){ sheetMask.style.display = "none"; }

  goQQ.addEventListener("click", () => { window.location.href = QQ_URL; });
  closeSheet.addEventListener("click", close);
  sheetMask.addEventListener("click", (e)=>{ if(e.target===sheetMask) close(); });

  // ç‰¹æ•ˆï¼šæ›´å¤šğŸ©·+ğŸ†+âœ¨ï¼Œå¾€ä¸Šé£˜ä½†ä¸é¡¶åˆ°å¤©
  const EMOJI = ["ğŸ©·","ğŸ’–","âœ¨","ğŸ†","ğŸ’—","ğŸ’"];
  function burst(){
    const total = 36; // æ•°é‡æ›´å¯†ä¸€ç‚¹
    for(let i=0;i<total;i++){
      const d = document.createElement("div");
      d.className = "fx";
      d.textContent = EMOJI[Math.floor(Math.random()*EMOJI.length)];

      // æ¨ªå‘æ•£å¼€ï¼ˆä¸å‡ºå±å¤ªå¤šï¼‰
      const x = (Math.random()*240 - 120).toFixed(0) + "px";
      d.style.setProperty("--x", x);

      // èµ·ç‚¹åœ¨æŒ‰é’®é™„è¿‘çš„é«˜åº¦ï¼ˆç¨åä¸‹ï¼‰
      d.style.top = (68 + Math.random()*10) + "vh";
      d.style.fontSize = (18 + Math.random()*14).toFixed(0) + "px";

      document.body.appendChild(d);
      setTimeout(()=>d.remove(), 2000);
    }
  }

  // ç‚¹æŒ‰é’®ï¼šç‰¹æ•ˆ + å¼¹QQéŸ³ä¹
  document.getElementById("fireBtn").addEventListener("click", ()=>{
    burst();
    setTimeout(openSheet, 250);
  });

  // å½©è›‹ï¼šç‚¹è›‹ç³• 5 æ¬¡å‡ºç°
  let taps = 0;
  document.getElementById("cake").addEventListener("click", ()=>{
    taps++;
    if(taps>=5) document.getElementById("egg").style.display="block";
  });
</script>
</body>
</html>
