<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>

<style>
  :root{
    --pink:#ff6b9d;
    --text:#333;
  }
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Arial;
    color:var(--text);
    overflow:hidden;
    background:#f7f2ff;
  }

  /* èƒŒæ™¯å›¾ï¼ˆä»“åº“é‡Œæ”¾ bg.jpg.JPGï¼‰ */
  body::before{
    content:"";
    position:fixed;
    inset:0;
    background:url("bg.jpg.JPG") center/cover no-repeat;
    transform:scale(1.03);
    filter: brightness(.92) saturate(1.05);
    z-index:-2;
  }
  /* æŸ”å’Œç²‰ç´«ç½©å±‚ï¼Œé¿å…å¤ªèŠ± */
  body::after{
    content:"";
    position:fixed;
    inset:0;
    background:linear-gradient(135deg, rgba(255,230,238,.55), rgba(247,242,255,.55));
    z-index:-1;
  }

  /* ç»ç’ƒå¡ç‰‡ï¼ˆé€æ˜ï¼‰ */
  .card{
    width:min(560px,90vw);
    border-radius:26px;
    padding:28px 24px 26px;
    text-align:center;
    background:rgba(255,255,255,.55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border:1px solid rgba(255,255,255,.35);
    box-shadow:0 18px 50px rgba(0,0,0,.12);
  }

  h1{
    margin:6px 0 10px;
    font-size:26px;
    letter-spacing:.5px;
  }
  p{
    line-height:1.85;
    margin:12px 0;
  }
  .from{
    margin-top:14px;
    font-weight:600;
  }
  .btn{
    margin-top:16px;
    padding:12px 26px;
    border:none;
    border-radius:999px;
    background:linear-gradient(135deg,#ff6b9d,#ff8bb4);
    color:#fff;
    font-size:16px;
    font-weight:700;
    box-shadow:0 10px 24px rgba(255,107,157,.35);
    cursor:pointer;
  }
  .btn:active{ transform:translateY(1px); }
  .small{
    font-size:14px;
    color:rgba(51,51,51,.75);
    margin-top:10px;
  }

  #birthdayOnly{ display:none; margin-top:16px; }
  #easterEgg{ display:none; margin-top:12px; font-size:14px; color:rgba(51,51,51,.6); }

  /* ç‰¹æ•ˆç²’å­ */
  .fx{
    position:fixed;
    left:0; top:0;
    pointer-events:none;
    z-index:5;
    will-change:transform,opacity;
    font-size:22px;
    animation: rise 1.9s ease-out forwards;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
  }
  @keyframes rise{
    from{ opacity:1; transform:translate(var(--x), var(--y0)) scale(1); }
    to  { opacity:0; transform:translate(var(--x2), var(--y1)) scale(1.05); }
  }

  /* QQéŸ³ä¹å¼¹çª—ï¼ˆä»¿ iOS åº•éƒ¨ sheetï¼‰ */
  .sheetMask{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.18);
    display:none;
    align-items:flex-end;
    justify-content:center;
    z-index:20;
    padding:18px 14px;
  }
  .sheet{
    width:min(560px,92vw);
    border-radius:18px;
    background:rgba(255,255,255,.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow:0 20px 60px rgba(0,0,0,.22);
    overflow:hidden;
  }
  .sheetHead{
    padding:14px 16px 10px;
    font-weight:700;
    color:#222;
    text-align:left;
  }
  .sheetBtn{
    width:100%;
    padding:14px 16px;
    border:none;
    background:#fff;
    font-size:16px;
    font-weight:700;
    cursor:pointer;
  }
  .sheetBtnPrimary{
    border-top:1px solid rgba(0,0,0,.06);
  }
  .sheetBtnPrimary span{
    color:#111;
  }
  .sheetBtnPrimary small{
    display:block;
    margin-top:6px;
    font-weight:500;
    color:rgba(0,0,0,.48);
    font-size:13px;
  }
  .sheetBtnCancel{
    border-top:10px solid rgba(0,0,0,.06);
    color:#666;
    font-weight:700;
  }
</style>
</head>

<body>
  <div class="card">
    <div style="font-size:42px; margin-bottom:2px;">ğŸ‚</div>

    <h1><span style="color:var(--pink)">å¼ æ–‡é™</span>ï¼Œç”Ÿæ—¥å¿«ä¹</h1>

    <p>
      æ„¿ä½ æ–°çš„ä¸€å²ï¼Œ<br>
      çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒé‡Œæœ‰ç³–ï¼Œ<br>
      æœ‰äººæƒ¦è®°ï¼Œ<br>
      ä¹Ÿè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚
    </p>

    <p class="from">â€”â€” æ¥è‡ª <span style="color:var(--pink)">åˆ˜ä¼Ÿ</span></p>

    <button class="btn" id="fireBtn">ç‚¹æˆ‘ä¸€ä¸‹ ğŸ’—</button>

    <p id="countdown" class="small"></p>

    <div id="birthdayOnly">
      <p>
        ğŸ‚ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥<br>
        æœ‰äº›è¯å¹³æ—¶ä¸è¯´ï¼Œ<br>
        ä½†ä»Šå¤©å¯ä»¥ã€‚
      </p>
      <p><b>ä½ çœŸçš„ï¼Œå¾ˆå€¼å¾—è¢«è®¤çœŸå¯¹å¾…ã€‚</b></p>
    </div>

    <p id="easterEgg">ï¼ˆå°å£°ï¼‰å¦‚æœä½ æ„¿æ„ï¼Œä»Šå¹´æˆ‘æƒ³æŠŠâ€œæƒ¦è®°â€åšå¾—æ›´å…·ä½“ä¸€ç‚¹ã€‚</p>
  </div>

  <!-- QQéŸ³ä¹å¼¹çª— -->
  <div class="sheetMask" id="sheetMask">
    <div class="sheet">
      <div class="sheetHead">ğŸ§ æˆ‘ä¹Ÿå»å¬äº†ä½ æ¨èçš„æ­Œ</div>
      <button class="sheetBtn sheetBtnPrimary" id="goQQ">
        <span>å» QQ éŸ³ä¹å¬ã€ŠNOT CUTE ANYMOREã€‹</span>
        <small>å¦‚æœæ²¡è‡ªåŠ¨è·³è½¬ï¼Œå¯ç‚¹å³ä¸Šè§’â€œâ€¦â€ç”¨æµè§ˆå™¨æ‰“å¼€</small>
      </button>
      <button class="sheetBtn sheetBtnCancel" id="noThanks">å…ˆä¸å¬</button>
    </div>
  </div>

<script>
  const btn = document.getElementById("fireBtn");
  const sheetMask = document.getElementById("sheetMask");
  const goQQ = document.getElementById("goQQ");
  const noThanks = document.getElementById("noThanks");

  // ä½ çš„ QQ éŸ³ä¹åˆ†äº«é“¾æ¥ï¼ˆä½ å‘æˆ‘çš„è¿™ä¸ªï¼‰
  const qqUrl = "https://c6.y.qq.com/base/fcgi-bin/u?__=cZQLF5iyxaK7";

  // ç”Ÿæ—¥ï¼š1æœˆ14æ—¥
  const now = new Date();
  const today = new Date(now);
  today.setHours(0,0,0,0);

  let birthday = new Date(today.getFullYear(), 0, 14);
  const isBirthday = (today.getMonth()===0 && today.getDate()===14);

  if (today > birthday) birthday = new Date(today.getFullYear()+1, 0, 14);

  const diffDays = Math.ceil((birthday - today) / 86400000);
  document.getElementById("countdown").innerText =
    isBirthday ? "ğŸˆ ä»Šå¤©æ˜¯å¥¹ç”Ÿæ—¥" : `ğŸˆ è·ç¦»ç”Ÿæ—¥è¿˜æœ‰ ${diffDays} å¤©`;

  if (isBirthday) document.getElementById("birthdayOnly").style.display = "block";

  let clicks = 0;

  function spawnFX(){
    // å¤šä¸€ç‚¹ï¼šå¿ƒ + çƒŸèŠ± + é—ªå…‰
    const icons = ["ğŸ’—","ğŸ©·","ğŸ’–","âœ¨","ğŸ†","ğŸ‡"];
    const n = 42; // æ•°é‡ï¼ˆä½ è¦æ›´ç‚¸ä¸€ç‚¹å°±åŠ å¤§ï¼‰
    const startY = window.innerHeight - 80;
    const riseTo = Math.max(180, window.innerHeight * 0.30); // ä¸é£˜åˆ°é¡¶ï¼ˆåœåœ¨ 30% é«˜åº¦é™„è¿‘ï¼‰

    for(let i=0;i<n;i++){
      const el = document.createElement("div");
      el.className = "fx";
      el.textContent = icons[Math.floor(Math.random()*icons.length)];

      const x = Math.random() * window.innerWidth;
      const x2 = x + (Math.random()*160 - 80);

      // ä»åº•éƒ¨é™„è¿‘èµ·é£ï¼Œå¾€ä¸Šé£˜åˆ° riseTo å·¦å³ï¼ˆä¸é¡¶åˆ°å¤´ï¼‰
      el.style.setProperty("--x", x + "px");
      el.style.setProperty("--x2", x2 + "px");
      el.style.setProperty("--y0", startY + (Math.random()*40) + "px");
      el.style.setProperty("--y1", riseTo + (Math.random()*40) + "px");

      // å¤§å°éšæœºä¸€ç‚¹
      el.style.fontSize = (18 + Math.random()*14) + "px";

      document.body.appendChild(el);
      setTimeout(()=> el.remove(), 2000);
    }
  }

  btn.addEventListener("click", ()=>{
    clicks++;
    spawnFX();

    // ç”Ÿæ—¥å½“å¤© or è¿ç‚¹å‡ æ¬¡ç»™å½©è›‹
    if (isBirthday || clicks >= 3){
      document.getElementById("easterEgg").style.display = "block";
    }

    // å¼¹å‡ºå¬æ­Œé€‰æ‹©
    sheetMask.style.display = "flex";
  });

  goQQ.addEventListener("click", ()=>{
    // ç”¨æ–°çª—å£/æ–°æ ‡ç­¾æ‰“å¼€ï¼Œæ›´å®¹æ˜“å”¤èµ· App
    window.open(qqUrl, "_blank");
    sheetMask.style.display = "none";
  });

  noThanks.addEventListener("click", ()=>{
    sheetMask.style.display = "none";
  });

  // ç‚¹é®ç½©ä¹Ÿèƒ½å…³é—­
  sheetMask.addEventListener("click", (e)=>{
    if(e.target === sheetMask) sheetMask.style.display = "none";
  });
</script>
</body>
</html>
