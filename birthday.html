<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>

<style>
  :root{
    --pink:#ff6b9d;
    --glass: rgba(255,255,255,.32);
    --glass-border: rgba(255,255,255,.35);
    --shadow: 0 18px 50px rgba(0,0,0,.15);
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    min-height:100vh;
    /* èƒŒæ™¯ç…§ç‰‡ */
    background:url("bg.jpg.JPG") center 12%/cover no-repeat fixed;
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Arial;
    color:#222;
    overflow:hidden;

    /* è®©å¡ç‰‡æ•´ä½“å¾€ä¸‹ç§»ï¼šéœ²å‡ºè„¸ */
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding-top:18vh;
    padding-left:14px;
    padding-right:14px;
  }

  /* èƒŒæ™¯è½»é›¾åŒ–ï¼Œé¿å…ç…§ç‰‡å¤ªæŠ¢å­— */
  body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(255,255,255,.25);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    pointer-events:none;
  }

  .card{
    position:relative;
    width:min(620px, 94vw);
    padding:30px 22px 26px;
    border-radius:28px;
    text-align:center;

    background:var(--glass);
    border:1px solid var(--glass-border);
    box-shadow:var(--shadow);

    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  .cake{
    font-size:44px;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    margin-bottom:8px;
  }

  h1{
    margin:0 0 12px;
    font-size:28px;
    letter-spacing:.5px;
  }

  .name{ color:var(--pink); font-weight:700; }

  p{
    margin:10px 0;
    line-height:1.85;
    font-size:16px;
  }

  .from{
    margin-top:14px;
    font-weight:600;
    opacity:.9;
  }

  .btn{
    margin-top:18px;
    border:none;
    border-radius:999px;
    padding:13px 28px;
    font-size:16px;
    color:#fff;
    background:linear-gradient(135deg, #ff6b9d, #ff4f86);
    box-shadow:0 10px 20px rgba(255,107,157,.35);
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
  }
  .btn:active{ transform: translateY(1px); }

  .small{
    margin-top:12px;
    font-size:14px;
    color:rgba(0,0,0,.65);
  }

  /* ç”Ÿæ—¥å½“å¤©ä¸“å± */
  #birthdayOnly{
    display:none;
    margin-top:16px;
  }
  #birthdayOnly b{ color:#111; }

  /* å½©è›‹ï¼ˆå¯é€‰ï¼‰ */
  #easterEgg{
    display:none;
    margin-top:14px;
    font-size:13px;
    color:rgba(0,0,0,.55);
  }

  /* çˆ†ç‚¸ç²’å­ */
  .particle{
    position:fixed;
    left:0; top:0;
    transform: translate(-9999px,-9999px);
    font-size:22px;
    pointer-events:none;
    z-index:9999;
    will-change: transform, opacity;
    animation: boom 2s ease-out forwards;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
  }

  @keyframes boom{
    0%   { opacity: 0; transform: translate(var(--x0), var(--y0)) scale(.6); }
    10%  { opacity: 1; }
    100% { opacity: 0; transform: translate(calc(var(--x0) + var(--dx)), calc(var(--y0) + var(--dy))) scale(1.15); }
  }

  /* åº•éƒ¨å¼¹çª—ï¼ˆé¿å…ç™½æ¿ï¼šå†…å®¹å…¨æœ¬åœ°æ¸²æŸ“ï¼‰ */
  .sheetMask{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.35);
    display:none;
    align-items:flex-end;
    justify-content:center;
    z-index:9998;
    padding:14px;
  }
  .sheet{
    width:min(680px, 96vw);
    background:#fff;
    border-radius:18px;
    box-shadow:0 24px 60px rgba(0,0,0,.25);
    overflow:hidden;
  }
  .sheetHead{
    padding:14px 16px 10px;
    font-weight:700;
    font-size:16px;
    display:flex;
    align-items:center;
    gap:8px;
  }
  .sheetBody{
    padding:10px 16px 14px;
  }
  .sheetBtn{
    width:100%;
    border:none;
    border-radius:14px;
    padding:14px 14px;
    font-size:16px;
    font-weight:700;
    background:linear-gradient(135deg, #111, #333);
    color:#fff;
  }
  .sheetTip{
    margin-top:10px;
    font-size:12px;
    color:#666;
    line-height:1.5;
  }
  .sheetCancel{
    width:100%;
    border:none;
    background:#fff;
    padding:14px 0 16px;
    font-size:15px;
    color:#666;
  }
</style>
</head>

<body>
  <div class="card">
    <div class="cake">ğŸ‚</div>
    <h1><span class="name">å¼ æ–‡é™</span>ï¼Œç”Ÿæ—¥å¿«ä¹</h1>

    <p>
      æ„¿ä½ æ–°çš„ä¸€å²ï¼Œ<br>
      çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒé‡Œæœ‰ç³–ï¼Œ<br>
      æœ‰äººæƒ¦è®°ï¼Œ<br>
      ä¹Ÿè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚
    </p>

    <p class="from">â€”â€” æ¥è‡ª <span class="name">åˆ˜ä¼Ÿ</span></p>

    <button class="btn" id="fireBtn">ç‚¹æˆ‘ä¸€ä¸‹ ğŸ’—</button>

    <p id="countdown" class="small"></p>

    <div id="birthdayOnly">
      <p>ğŸ‚ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥</p>
      <p><b>ä½ çœŸçš„ï¼Œå¾ˆå€¼å¾—è¢«è®¤çœŸå¯¹å¾…ã€‚</b></p>
    </div>

    <p id="easterEgg">ï¼ˆå°å£°ï¼‰å¦‚æœä½ æ„¿æ„ï¼Œä»Šå¹´æˆ‘æƒ³æŠŠâ€œæƒ¦è®°â€åšå¾—æ›´å…·ä½“ä¸€ç‚¹ã€‚</p>
  </div>

  <!-- QQ éŸ³ä¹å¼¹çª— -->
  <div class="sheetMask" id="sheetMask">
    <div class="sheet" role="dialog" aria-modal="true">
      <div class="sheetHead">ğŸ§ æˆ‘ä¹Ÿå»å¬äº†ä½ æ¨èçš„æ­Œ</div>
      <div class="sheetBody">
        <button class="sheetBtn" id="qqBtn">å» QQ éŸ³ä¹å¬ã€ŠNOT CUTE ANYMOREã€‹</button>
        <div class="sheetTip">
          å¦‚æœæ²¡æœ‰è‡ªåŠ¨è·³è½¬ï¼šç‚¹å³ä¸Šè§’â€œâ€¦â€ â†’ ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå†è¯•ä¸€æ¬¡ã€‚
        </div>
      </div>
      <button class="sheetCancel" id="closeSheet">å…ˆä¸å¬</button>
    </div>
  </div>

<script>
  // ====== ç”Ÿæ—¥å€’è®¡æ—¶ï¼ˆå¥¹ï¼š1æœˆ14ï¼‰======
  const countdownEl = document.getElementById("countdown");
  const birthdayOnly = document.getElementById("birthdayOnly");
  const easterEgg = document.getElementById("easterEgg");

  const now = new Date();
  const thisYearBirthday = new Date(now.getFullYear(), 0, 14); // 1æœˆ14
  const isBirthday = now.getMonth() === 0 && now.getDate() === 14;

  let nextBirthday = new Date(thisYearBirthday);
  if (now > thisYearBirthday) nextBirthday.setFullYear(now.getFullYear() + 1);

  const diffDays = Math.ceil((nextBirthday - now) / (1000 * 60 * 60 * 24));
  countdownEl.textContent = isBirthday ? "ğŸˆ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥" : `ğŸˆ è·ç¦»ç”Ÿæ—¥è¿˜æœ‰ ${diffDays} å¤©`;

  if (isBirthday) birthdayOnly.style.display = "block";

  // ====== ç²’å­çˆ†ç‚¸ï¼ˆç»½æ”¾å½¢ï¼ŒæŒç»­çº¦2ç§’ï¼‰======
  const fireBtn = document.getElementById("fireBtn");

  function spawnBurst(x, y, count){
    const emojis = ["ğŸ†","ğŸ’–","ğŸ’—","ğŸ©·","âœ¨","ğŸ‡"];
    for (let i = 0; i < count; i++){
      const el = document.createElement("div");
      el.className = "particle";
      el.textContent = emojis[(Math.random() * emojis.length) | 0];

      // èµ·ç‚¹ï¼ˆå›´ç»•æŒ‰é’®ï¼Œç•¥éšæœºï¼‰
      const x0 = x + (Math.random()*18 - 9);
      const y0 = y + (Math.random()*18 - 9);

      // â€œç»½æ”¾â€ä½ç§»ï¼šå‘å››å‘¨æ‰©æ•£ï¼Œä½†æ•´ä½“åä¸Šï¼ˆä¸é£˜åˆ°é¡¶ï¼šè·ç¦»æ§åˆ¶åœ¨ 160~220 å†…ï¼‰
      const angle = Math.random() * Math.PI * 2;
      const dist = 120 + Math.random() * 110;   // æ‰©æ•£åŠå¾„
      let dx = Math.cos(angle) * dist;
      let dy = Math.sin(angle) * dist;

      // è®©æ•´ä½“æ›´åƒçƒŸèŠ±ï¼šy æ–¹å‘æ›´åä¸Šï¼Œä½†åˆ«å¤ªå¤¸å¼ 
      dy = dy * 0.55 - (60 + Math.random() * 90); // å¾€ä¸Šæ‹‰ä¸€äº›ï¼ˆä½†ä¸ä¼šé£åˆ°é¡¶ï¼Œå› ä¸º dist æœ‰ä¸Šé™ï¼‰

      el.style.setProperty("--x0", x0 + "px");
      el.style.setProperty("--y0", y0 + "px");
      el.style.setProperty("--dx", dx + "px");
      el.style.setProperty("--dy", dy + "px");

      document.body.appendChild(el);
      setTimeout(()=> el.remove(), 2100);
    }
  }

  // è®©ç»½æ”¾â€œæŒç»­ä¸¤ç§’â€ï¼š2ç§’å†…ä¸æ–­è¡¥å……å°çˆ†ç‚¸
  function boomForTwoSeconds(x, y){
    const start = Date.now();
    const timer = setInterval(()=>{
      const t = Date.now() - start;
      // æ¯æ¬¡ä¸€å°å›¢ï¼Œå èµ·æ¥å°±æ˜¯â€œæŒç»­ç»½æ”¾â€
      spawnBurst(x, y, 18);
      if (t >= 2000){
        clearInterval(timer);
      }
    }, 180);
  }

  // ====== QQ éŸ³ä¹è·³è½¬ï¼ˆåªç”¨ä½ ç»™çš„é“¾æ¥ï¼Œé¿å…ç™½æ¿/iframeï¼‰======
  const sheetMask = document.getElementById("sheetMask");
  const qqBtn = document.getElementById("qqBtn");
  const closeSheet = document.getElementById("closeSheet");

  // ä½ æä¾›çš„ QQ éŸ³ä¹åˆ†äº«é“¾æ¥
  const QQ_URL = "https://c6.y.qq.com/base/fcgi-bin/u?__=cZQLF5iyxaK7";

  function openSheet(){
    sheetMask.style.display = "flex";
  }
  function closeSheetFn(){
    sheetMask.style.display = "none";
  }

  qqBtn.addEventListener("click", ()=>{
    // ç›´æ¥è·³è½¬ï¼ˆåœ¨å¾®ä¿¡é‡Œå¯èƒ½ä¼šæç¤º/é™åˆ¶ï¼Œè¿™æ˜¯å¾®ä¿¡çš„æœºåˆ¶ï¼‰
    location.href = QQ_URL;
  });
  closeSheet.addEventListener("click", closeSheetFn);
  sheetMask.addEventListener("click", (e)=>{
    if (e.target === sheetMask) closeSheetFn();
  });

  // ä¸»æŒ‰é’®ï¼šçƒŸèŠ± + çˆ±å¿ƒ +ï¼ˆç”Ÿæ—¥å½“å¤©æ˜¾ç¤ºå½©è›‹ï¼‰+ å¼¹çª—
  fireBtn.addEventListener("click", ()=>{
    const r = fireBtn.getBoundingClientRect();
    const x = r.left + r.width / 2;
    const y = r.top + r.height / 2;

    boomForTwoSeconds(x, y); // æŒç»­ç»½æ”¾çº¦2ç§’

    if (isBirthday){
      easterEgg.style.display = "block";
    }

    // å¼¹å‡ºâ€œå»QQéŸ³ä¹å¬æ­Œâ€
    openSheet();
  });
</script>
</body>
</html>
