<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>

<style>
  :root{ --pink:#ff6b9d; --text:#333; }

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;

    align-items:flex-start;
    padding:clamp(240px, 34vh, 380px) 0 70px;

    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Helvetica Neue",Arial;
    color:var(--text);
    overflow:hidden;
    background:#f7f2ff;
  }

  body::before{
    content:"";
    position:fixed;
    inset:0;
    background:url("bg.jpg.JPG") center/cover no-repeat;
    transform:scale(1.03);
    filter: brightness(.92) saturate(1.05);
    z-index:-2;
  }
  body::after{
    content:"";
    position:fixed;
    inset:0;
    background:linear-gradient(135deg, rgba(255,230,238,.55), rgba(247,242,255,.55));
    z-index:-1;
  }

  .card{
    width:min(560px,90vw);
    border-radius:26px;
    padding:28px 24px 26px;
    text-align:center;
    background:rgba(255,255,255,.55);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border:1px solid rgba(255,255,255,.35);
    box-shadow:0 18px 50px rgba(0,0,0,.12);
  }

  h1{ margin:6px 0 10px; font-size:26px; letter-spacing:.5px; }
  p{ line-height:1.85; margin:12px 0; }
  .from{ margin-top:14px; font-weight:600; }

  .btn{
    margin-top:16px;
    padding:12px 26px;
    border:none;
    border-radius:999px;
    background:linear-gradient(135deg,#ff6b9d,#ff8bb4);
    color:#fff;
    font-size:16px;
    font-weight:700;
    box-shadow:0 10px 24px rgba(255,107,157,.35);
    cursor:pointer;
  }
  .btn:active{ transform:translateY(1px); }

  .small{ font-size:14px; color:rgba(51,51,51,.75); margin-top:10px; }
  #birthdayOnly{ display:none; margin-top:16px; }
  #easterEgg{ display:none; margin-top:12px; font-size:14px; color:rgba(51,51,51,.6); }

  /* âœ… ç»½æ”¾ç‰¹æ•ˆï¼šä»æŒ‰é’®ä½ç½®â€œçˆ†å¼€â€ */
  .fx{
    position:fixed;
    left:0; top:0;
    pointer-events:none;
    z-index:10;
    will-change:transform,opacity;
    animation: burst 1.15s cubic-bezier(.18,.75,.22,1) forwards;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
  }
  @keyframes burst{
    0%{
      opacity:0;
      transform:translate3d(var(--x0), var(--y0), 0) scale(.6);
    }
    12%{ opacity:1; }
    100%{
      opacity:0;
      transform:translate3d(
        calc(var(--x0) + var(--dx)),
        calc(var(--y0) + var(--dy)),
        0
      ) scale(1.15);
    }
  }

  .sheetMask{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.18);
    display:none;
    align-items:flex-end;
    justify-content:center;
    z-index:20;
    padding:18px 14px;
  }
  .sheet{
    width:min(560px,92vw);
    border-radius:18px;
    background:rgba(255,255,255,.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow:0 20px 60px rgba(0,0,0,.22);
    overflow:hidden;
  }
  .sheetHead{ padding:14px 16px 10px; font-weight:700; color:#222; text-align:left; }
  .sheetBtn{
    width:100%;
    padding:14px 16px;
    border:none;
    background:#fff;
    font-size:16px;
    font-weight:700;
    cursor:pointer;
  }
  .sheetBtnPrimary{ border-top:1px solid rgba(0,0,0,.06); }
  .sheetBtnPrimary span{ color:#111; }
  .sheetBtnPrimary small{
    display:block; margin-top:6px;
    font-weight:500; color:rgba(0,0,0,.48); font-size:13px;
  }
  .sheetBtnCancel{
    border-top:10px solid rgba(0,0,0,.06);
    color:#666; font-weight:700;
  }
</style>
</head>

<body>
  <div class="card" id="card">
    <div style="font-size:42px; margin-bottom:2px;">ğŸ‚</div>

    <h1><span style="color:var(--pink)">å¼ æ–‡é™</span>ï¼Œç”Ÿæ—¥å¿«ä¹</h1>

    <p>
      æ„¿ä½ æ–°çš„ä¸€å²ï¼Œ<br>
      çœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒé‡Œæœ‰ç³–ï¼Œ<br>
      æœ‰äººæƒ¦è®°ï¼Œ<br>
      ä¹Ÿè¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ã€‚
    </p>

    <p class="from">â€”â€” æ¥è‡ª <span style="color:var(--pink)">åˆ˜ä¼Ÿ</span></p>

    <button class="btn" id="fireBtn">ç‚¹æˆ‘ä¸€ä¸‹ ğŸ’—</button>

    <p id="countdown" class="small"></p>

    <div id="birthdayOnly">
      <p>
        ğŸ‚ ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥<br>
        æœ‰äº›è¯å¹³æ—¶ä¸è¯´ï¼Œ<br>
        ä½†ä»Šå¤©å¯ä»¥ã€‚
      </p>
      <p><b>ä½ çœŸçš„ï¼Œå¾ˆå€¼å¾—è¢«è®¤çœŸå¯¹å¾…ã€‚</b></p>
    </div>

    <p id="easterEgg">ï¼ˆå°å£°ï¼‰å¦‚æœä½ æ„¿æ„ï¼Œä»Šå¹´æˆ‘æƒ³æŠŠâ€œæƒ¦è®°â€åšå¾—æ›´å…·ä½“ä¸€ç‚¹ã€‚</p>
  </div>

  <div class="sheetMask" id="sheetMask">
    <div class="sheet">
      <div class="sheetHead">ğŸ§ æˆ‘ä¹Ÿå»å¬äº†ä½ æ¨èçš„æ­Œ</div>
      <button class="sheetBtn sheetBtnPrimary" id="goQQ">
        <span>å» QQ éŸ³ä¹å¬ã€ŠNOT CUTE ANYMOREã€‹</span>
        <small>å¦‚æœæ²¡è‡ªåŠ¨è·³è½¬ï¼Œå¯ç‚¹å³ä¸Šè§’â€œâ€¦â€ç”¨æµè§ˆå™¨æ‰“å¼€</small>
      </button>
      <button class="sheetBtn sheetBtnCancel" id="noThanks">å…ˆä¸å¬</button>
    </div>
  </div>

<script>
  const btn = document.getElementById("fireBtn");
  const card = document.getElementById("card");
  const sheetMask = document.getElementById("sheetMask");
  const goQQ = document.getElementById("goQQ");
  const noThanks = document.getElementById("noThanks");

  const qqUrl = "https://c6.y.qq.com/base/fcgi-bin/u?__=cZQLF5iyxaK7";

  const now = new Date();
  const today = new Date(now); today.setHours(0,0,0,0);

  let birthday = new Date(today.getFullYear(), 0, 14);
  const isBirthday = (today.getMonth()===0 && today.getDate()===14);
  if (today > birthday) birthday = new Date(today.getFullYear()+1, 0, 14);

  const diffDays = Math.ceil((birthday - today) / 86400000);
  document.getElementById("countdown").innerText =
    isBirthday ? "ğŸˆ ä»Šå¤©æ˜¯å¥¹ç”Ÿæ—¥" : `ğŸˆ è·ç¦»ç”Ÿæ—¥è¿˜æœ‰ ${diffDays} å¤©`;

  if (isBirthday) document.getElementById("birthdayOnly").style.display = "block";

  let clicks = 0;

  function burst(originX, originY, n, icons, rMin, rMax, sizeMin, sizeMax){
    for(let i=0;i<n;i++){
      const el = document.createElement("div");
      el.className = "fx";
      el.textContent = icons[Math.floor(Math.random()*icons.length)];
      el.style.fontSize = (sizeMin + Math.random()*(sizeMax-sizeMin)) + "px";

      const angle = Math.random() * Math.PI * 2;
      const r = rMin + Math.random()*(rMax - rMin);

      let dx = Math.cos(angle) * r;
      let dy = Math.sin(angle) * r;

      // è½»å¾®â€œå¾€ä¸Šâ€ä¸€ç‚¹ï¼Œä½†ä¸å†²åˆ°é¡¶ï¼ˆé™åˆ¶ä¸Šé£˜å¹…åº¦ï¼‰
      dy -= 35;
      if (dy < -190) dy = -190;

      // é¿å…é£åˆ°ç‰¹åˆ«é é¡¶
      if (originY + dy < 120) dy = 120 - originY;

      el.style.setProperty("--x0", originX + "px");
      el.style.setProperty("--y0", originY + "px");
      el.style.setProperty("--dx", dx + "px");
      el.style.setProperty("--dy", dy + "px");

      document.body.appendChild(el);
      setTimeout(()=> el.remove(), 1300);
    }
  }

  function spawnFX(){
    // ä»æŒ‰é’®ä¸­å¿ƒâ€œç»½æ”¾â€
    const b = btn.getBoundingClientRect();
    const originX = b.left + b.width/2;
    const originY = b.top + b.height/2;

    // ä¸‰å±‚ï¼šçƒŸèŠ± + å¿ƒå¿ƒ + é—ªå…‰
    burst(originX, originY, 26, ["ğŸ©·","ğŸ’—","ğŸ’–"], 70, 170, 18, 28);
    burst(originX, originY, 22, ["ğŸ†","ğŸ‡"], 60, 150, 18, 26);
    burst(originX, originY, 34, ["âœ¨","âœ¨","âœ¨","âœ¦","âœ§"], 80, 210, 14, 20);
  }

  btn.addEventListener("click", ()=>{
    clicks++;
    spawnFX();

    if (isBirthday || clicks >= 3){
      document.getElementById("easterEgg").style.display = "block";
    }

    sheetMask.style.display = "flex";
  });

  goQQ.addEventListener("click", ()=>{
    window.open(qqUrl, "_blank");
    sheetMask.style.display = "none";
  });

  noThanks.addEventListener("click", ()=>{ sheetMask.style.display = "none"; });

  sheetMask.addEventListener("click", (e)=>{
    if(e.target === sheetMask) sheetMask.style.display = "none";
  });
</script>
</body>
</html>
